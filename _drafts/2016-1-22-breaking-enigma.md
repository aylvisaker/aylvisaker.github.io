##Breaking Enigma

To understand how the Enigma was finally broken, we first have to understand a little bit about the German protocols for using the machine. Each day the machine was re-wired according to a code book. These were distributed to the entire military and great precaution was taken to keep them secret (for example, the naval codebooks were printed in water-soluble ink so that in case of capture they could be destroyed by throwing them into the ocean). To send a message, the operator first chose a message key which only consisted of the rotor settings, e.g. `VEP`. The operator configured the machine according to that day's settings in the codebook and first encrypted `VEPVEP`. The resulting output became the first six characters of the ciphertext he would broadcast. After encrypting the message key, the machine was set to `VEP` and the operator began typing his message. When an operator on the other end received this message (usually broadcast over the radio in morse code, which could be intercepted by the Allies) he set his machine according to the settings for the day and typed in the first six characters. The resulting output was the message key `VEPVEP`. The reason for repeating the message key was simple redundancy. If the operator on the receiving end saw `VEPVEQ` he would know something went wrong and ask the sender to re-broadcast the message. Once the receiver had the message key, he could reset his machine and continue to decrypt the rest of the message.

This was the first flaw in the Enigma (or rather, the German protocols for using it). It required the operator to select a key "randomly," and humans are terrible at doing things randomly.  Just like so many of us use `password` as a password, many Enigma operators chose very easy to guess message keys. Dirty words were especially popular, as were things like `ABC`. One operator always used his girlfriend's initials. It turned out that the repetition of the message key was also a weakness that could be exploited by the Allies. However, neither of these provided a reliable method for decrypting Enigma traffic. The major break came with the invention of the Bombe.

The [Bombe](http://wki.pe/Bombe) was a machine invented by Alan Turing based on a similar machine developed by [Marian Rejewski](http://wki.pe/Marian_Rejewski) at the Polish Cipher Bureau. The idea was for the machine to cycle through all possible three letter message keys and test for contradictions against a known piece of plaintext (called a crib). Cribs were easy enough to come by because certain stations would reliably broadcast very predictable messages. For example, some stations would broadcast a weather report at the same time each day, and that broadcast was sure to contain the German word "Wetterbericht" (weather report) or the phrase "Wetter fuer die Nacht" (weather for the night). Here is such a message encrypted with the Enigma machine:

## Future Work
The repository will eventually contain an easy-to-use implementation of the British Bombe machine. It will accept a ciphertext message along with a crib and a location for that crib. After testing all of the wheel settings for contradictions, the machine will return a set of plausible wheel settings. In addition, I would like to find time to add the following features:
* Automatic crib-sliding.
* List of frequently used German words and n-grams for screening plausible keys.
* Hill-climbing algorithm for breaking Enigma messages without a crib.
* Database of historical Enigma messages.
